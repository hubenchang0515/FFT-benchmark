# FFT-benchmark
一些 FFT 库的性能测试

## 测试环境
CPU: AMD Ryzen 9 5900HX  
GPU: NVIDIA GeForce RTX 3060 Laptop GPU
OS : Ubuntu 22.04.1 LTS

## 测试结果

> 由于笔记本使用的混合输出模式，独立显卡通常处于休眠状态，因此冷启动很慢。  

| 方案       | 规模        |  耗时 | 
| :-        | :-          | :-  |
| FFTW      | 2^10        | real    0m0.001s         |
|           | 2^20        | real    0m0.050s         |
|           | 2^25        | real	0m2.214s         |
| CPP自编码  | 2^10        | real    0m0.005s         |
|           | 2^20        | real    0m0.552s         |
|           | 2^25        | real	0m25.250s        |
| cuFFTW    | 2^10        | real    0m1.275s (冷启动) |  
|           |             | real    0m0.112s (热启动) |
|           | 2^20        | real    0m1.301s (冷启动) |  
|           |             | real    0m0.133s (热启动) |
|           | 2^25        | real	0m2.380s (冷启动) |  
|           |             | real    0m2.147s (热启动) |
| CUDA自编码 | 2^10        | real    0m1.273s (冷启动) |
|           |             | real    0m0.114s (热启动) |
|           | 2^20        | real    0m1.370s (冷启动) |
|           |             | real    0m0.194s (热启动) |
|           | 2^25        | real	0m4.285s (冷启动) |
|           |             | real	0m3.022s (热启动) |

FFT 本身是高度优化的算法，整体时间复杂的为 O(nlogn)。仅在 logn 次循环中分别计算 n 次简单的四则运算。可并发规模小，使用 GPU 运算带来的运算性能提升不及显存 IO （传输的时间复杂度为为O(n)）带来的性能损失。在小规模数据下 FFTW 相比 cuFFT，即使在热启动状态下也有上千倍的优势。在 2^25 次方的巨大数据规模下才勉强追平，这是一个不切实际的数据量。通常数据量仅在数千量级。

总上所述，使用 GPU 计算 FFT 是没有价值的。

> 可以考虑使用 SIMD 指令（SSE、AVX等）优化 FFT 算法。

